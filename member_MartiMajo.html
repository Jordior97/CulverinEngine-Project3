<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Njoy Games Web</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Njoy Games website" />
    <meta name="author" content="Daniel Triviño Merida" />

    <!-- css -->
    <link href="https://fonts.googleapis.com/css?family=Handlee|Open+Sans:300,400,600,700,800" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet" />
    <link href="css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="css/flexslider.css" rel="stylesheet" />
    <link href="css/prettyPhoto.css" rel="stylesheet" />
    <link href="css/camera.css" rel="stylesheet" />
    <link href="css/jquery.bxslider.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />

    <!-- Colors CSS -->
    <link href="css/default.css" rel="stylesheet" />

</head>

<body>

<div id="wrapper">

    <!-- start header -->
    <header>
        <div class="top">
            <div class="container">
                <div class="row"></div>
            </div>
        </div>
        <div class="container">

            <div class="row nomargin">
                <div class="span4">
                    <div class="logo">
                        <a href="index.html"><img style="width: 130px; height: 75px;" src="img/logo.png" alt="" /></a>
                    </div>
                </div>
                <div class="span8">
                    <div class="navbar navbar-static-top">
                        <div class="navigation">
                            <nav>
                                <ul class="nav topnav">
                                    <li>
                                        <a href="index.html"><i class="fa fa-home"></i> Home </a>
                                    </li>
                                    <li>
                                        <a href="versions.html"><i class="fa fa-download"></i> Releases </a>
                                    </li>
                                    <li class="active">
                                        <a href="team.html"><i class="fa fa-user"></i> Team </a>
                                    </li>
                                    <li>
                                        <a href="gallery.html"><i class="fa fa-picture-o"></i> Gallery </a>
                                    </li>
                                    <li>
                                        <a href="post_mortem.html"><i class="fa fa-file-text-o"></i> Post Mortem </a>
                                    </li>
                                    <li>
                                        <a href="contact.html"><i class="fa fa-envelope-o"></i> Contact </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                        <!-- end navigation -->
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- end header -->


<!-- ################################################################################################################ -->
<!-- #####################################       DESDE AQUI       ################################################### -->
<!-- ################################################################################################################ -->


        <section id="inner-headline">
            <div class="container">
                <div class="row">
                    <div class="span8">
                    <div class="inner-heading">
                        <!-- ###################################################################### -->
                        <!-- TODO1: Cambiar "Member Name" y "Member Role Name" por tus datos reales -->
                        <!--        Si abris este archivo html con el navegador podreis ir viendo   -->
                        <!--        el resultado.                                                   -->
                        <!-- ###################################################################### -->
                        <h2>Martí Majó Ylla-Català</h2>
                        </br>
                        <h5>Programer</h5>
                        <!-- ##### END TODO1 ##### -->

                        <!-- ###################################################################### -->
                        <!-- TODO2: Cambiar la almohadilla (#) de los href por el enlace que        -->
                        <!--       corresponda. Ejemplo: href="https://github.com/dibu13"           -->
                        <!--       Las redes que no querais poner borrais la linea entera.          -->
                        <!-- ###################################################################### -->
                        <a href="https://github.com/martimyc" class="btn btn-social-icon btn-github" target="_blank"><i class="fa fa-github"></i></a>
                        <a href="https://www.linkedin.com/in/mart%C3%AD-maj%C3%B3-840184165/" class="btn btn-social-icon btn-linkedin" target="_blank"><i class="fa fa-linkedin"></i></a>
                        <!-- ##### END TODO2 ##### -->

                    </div>
                    </div>
                    <div class="span4">
                        <!-- ###################################################################### -->
                        <!-- TODO3: Copiar la imagen de tu cara a la carpeta img/avatar             -->
                        <!--       Modificar "defaultAvatar.jpg" del src con el nombre exacto del   -->
                        <!--       archivo anterior. Ejemplo: src="img/avatar/MiCara.png"           -->
                        <!--             ¡¡¡NO DEBEN PESAR MAS DE 100 - 150 KB !!!                  -->
                        <!--             Ponle un nombre que sepas que no lo va a poner nadie.      -->
                        <!-- ###################################################################### -->
                        <img class="thumbnail floatright" style="max-height: 300px;max-width: 300px;" src="img/avatar/MartíMajó.png" alt="" />
                        <!-- ##### END TODO3 ##### -->

                    </div>
                </div>
            </div>
        </section>

        <section id="content">
            <div class="container">

                <!-- ###################################################################### -->
                <!-- TODO4: Utilizando las estructuras que estan a continuacion montar      -->
                <!--       el contenido de tu pagina personal. Copias el trozo que quieras  -->
                <!--       lo pegas las veces que quieras y modificas el contenido de los   -->
                <!--       <H4> los <p> y las src de las imagenes. Las imagenes que querais -->
                <!--       poner hay que copiarlas dentro de la carpeta "img/member-images".-->
                <!--       Las imagenes deben pesar entre 500KB y 1MB.                      -->
                <!--       Usa algun prefijo o algo para que los nombres de tus imagenes no -->
                <!--       se repitan con las de los demas al subirlas. Por ejemplo:        -->
                <!--       "tuNombre_nombreImagen.png".                                     -->
                <!--       Pueden ser .jpg, .png o .gif                                     -->
                <!--                                                                        -->
                <!--       Si en alguna de las estructuras quereis añadir otro elemento     -->
                <!--       como otro parrafo solo hay que copiar la <p></p> y pegarlo       -->
                <!--       debajo del otro. Si os veis, podeis combinar los elementos.      -->
                <!--                                                                        -->
                <!--       Si quereis usar una estructura sin el titulo teneis que borrar   -->
                <!--       lo siguiente:  <div class="row">                                 -->
                <!--                          <div class="span12">                          -->
                <!--                              <h4>Title only text</h4>                  -->
                <!--                          </div>                                        -->
                <!--                      </div>                                            -->
                <!--       Al acabar solo dejad las que usais.                              -->
                <!-- ###################################################################### -->

                <!-- @@@@@@@@@@ ESTRUCTURA 1: Solo texto @@@@@@@@@@ -->
            <div class="row">
                <div class="span12">
                    <h4>Skeletal Animation</h4>
                </div>
            </div>
            <div class="row">
                <div class="span8">
                    <p>
                        At the start of the project I was in charge of skeletal animation. In that regard I implemented all the functionality for skeletons and skinning.
                    </p>
                    <p>
                        First, I made the importer so that they could be saved into our own mesh file and used within the engine; this also meant taking care of instancing meshes and skeletons differently. Every mesh can be loaded once and instanced every time it is used but skeletons need to be generated separately for every mesh or they will all move equally. 
                    </p>
                    <p>
                        After having properly imported, loaded and generated skeletons within meshes I moved into skinning. Although, we had previously done all skinning in CPU, this time we decided to do it in GPU with shaders due to consumption. So I made a first version of a skinning shader passing bone transformations as 4x4 matrices within a texture buffer and calculating all vertex positions within the GPU. The shader has been further improved to only pass 3x4 matrices and was going to be improved later to use dual quaternion, all research for that was made but this optimization was deemed unnecessary in the end and there where higher priority matters to attend to so dual quaternion where not put in.                    </p>
                    <p>
                        To finalize this part I added functionality to save and load for meshes with skeleton so that they could easily be used within scenes in the engine’s editor.
                    </p>
                </div>
                <div class="span4">
                    <img class="thumbnail" style="max-height: 300px;max-width: 300px; margin: 0 auto;" src="img/member-images/MartíMajó_SkinningGIF.gif" alt="" />
                </div>
            </div>
                <!-- @@@@@@@@@@ END ESTRUCTURA 1 @@@@@@@@@@ -->

                <!-- @@@@@@@@@@ ESTRUCTURA 2: Linea separadora @@@@@@@@@@ -->
            <div class="row">
                <div class="span12">
                    <div class="solidline"></div>
                </div>
            </div>
                <!-- @@@@@@@@@@ END ESTRUCTURA 2 @@@@@@@@@@ -->

                <!-- @@@@@@@@@@ ESTRUCTURA 3: Texto con imagen a la derecha @@@@@@@@@@ -->
            <div class="row">
                <div class="span12">
                    <h4>AI Structure</h4>
                </div>
            </div>
            <div class="row">
                <div class="span8">
                    <p>
                        After being in charge of skeletons and skinning I joined the AI department witch up to that point had a severe lack of people in it. When I joined the whole AI had been done by a single person without the necessary time to be able to reach the vertical slice deadline. That AI was severely lacking due to not having had enough time, programmers and a bug filled scripting system. At that point the AI was rushed, unfinished, all in one single script and did not provide any sort of solid base to expand upon. We (the newly formed AI team and me) decided to change that.
                    </p>
                    <p>
                        First, after some discussion about it within the group, I made a base structure for the AI together with two other programers (Ferran Martin and Eric Sola). This structure is similar to how Behavior trees work in that it was finite actions and when no action (or the idle action) is taking place the enemy makes a decision on which action to do. This would consist in a base class to take care of the whole actions taking place, calling their updates, managing interruptions… And then we have a child class to take care of all the enemies’ behaviors and finally one grandchild class to implement the specific decision making of each character.                    
                    </p>
                </div>
                <div class="span4">
                    <img class="thumbnail" style="max-height: 300px;max-width: 300px; margin: 0 auto;" src="img/member-images/MartíMajó_AI_Flow.png" alt="" />
                </div>
            </div>
            <div class="row">
                <div class="span12">
                    <p>
                        Later, I had to expand the structure twice: first to make behaviors and animations match and after to make the final boss’ AI which does not function like an enemy.
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="span4">
                    <img class="thumbnail" style="max-height: 300px;max-width: 300px; margin: 0 auto;" src="img/member-images/MartíMajó_AI_Structure.png" alt="" />
                </div>
                <div class="span8">
                    <p>
                        For the first problem, and this is one of the, if not the, biggest setback we had within the AI department, animations worked in two separate states: animations with the weapons shaded and animations with the weapons drawn. To solve this I had to expand the structure so that the enemy class would manage two states for combat and out of combat and then the individual classes would make decisions within those states; combat decisions and out of combat ones.
                    </p>
                    <p>
                        The second problem was, as said before, implementing the boss AI. To do that I had to make changes to the AI structure so that only normal enemy specific functionalities where done by the enemy class and functionalities needed by the boss as well where in the base class given that the boss does not function as a normal enemy at all. This was already the way we thought of it at the start of the project but it was not until we had a boss and could really put the structure to the test that many of the existing bugs appeared and I could address and fix them.
                    </p>
                </div>
            </div>
                <!-- @@@@@@@@@@ END ESTRUCTURA 3 @@@@@@@@@@ -->

                <!-- @@@@@@@@@@ ESTRUCTURA 4: Texto con imagen a la izquierda @@@@@@@@@@ -->
            <div class="row">
                <div class="span12">
                    <h4>Enemy Movement</h4>
                </div>
            </div>
            <div class="row">
                <div class="span4">
                    <img class="thumbnail" style="max-height: 300px;max-width: 300px; margin: 0 auto;" src="img/member-images/MartíMajó_SidewaysWalk.gif" alt="" />
                </div>
                <div class="span8">
                    <p>
                        After having a solid structure that lets us expand on it as well as work in parallel within the team the only remaining parts of the AI are he actions and the specific behaviors or decision makings.  Most notably I was in charge of the movement which we decided to do with steering behaviors instead of constant speeds so that the enemies might feel more realistic. In regards to realism I also used blending clips to simulate stopping and starting movement.
                    </p>
                </div>
                <div class="span4">
                        <p>
                            Movement has been expanded and tweaked intensively, most notably I expanded on it with sideways movements when in combat for all enemies and the boss to make combat be faster and make the AIs feel a little bit smarter. The complexity has been rising nonstop throughout development given the needs of the enemies and boss and this area has been one, if not the, biggest headache in this department. 
                        </p>
                    </div>
                <div class="span4">
                    <img class="thumbnail" style="max-height: 300px;max-width: 300px; margin: 0 auto;" src="img/member-images/MartíMajó_AI_SteeringBehaibours.png" alt="" />
                </div>
            </div>
                <!-- @@@@@@@@@@ END ESTRUCTURA 4 @@@@@@@@@@ -->

                <!-- @@@@@@@@@@ ESTRUCTURA 5: Dos imagenes @@@@@@@@@@ -->
            <div class="row">
                <div class="span12">
                    <h4>Other Actions and Individual Decision Making</h4>
                </div>
            </div>
            <div class="row">
                <div class="span12">
                    <p>
                        Besides movement I have also implemented totally or had part in making and debbuging of many other actions.
                    </p>
                    <p>
                        These actions are:
                    </p>
                </div>
                <div class="span12">
                    <ul>
                        <li>Facing Player</li>
                        <li>Basic Attack</li>
                        <li>Engage</li>
                        <li>Disengage</li>
                        <li>Enemys' Sight</li>
                        <li>Chasing Player</li>
                    </ul>
                </div>
                <div class="span12">
                        <p>
                            I also implemented the decision making for the sword enemy and the boss as well as being part of all the other decision making implementations due to knowing the structure.
                        </p>
                    </div>
            </div>
                <!-- @@@@@@@@@@ END ESTRUCTURA 5 @@@@@@@@@@ -->

                <!-- @@@@@@@@@@ ESTRUCTURA 6: Tres imagenes @@@@@@@@@@ -->
            <div class="row">
                <div class="span12">
                    <h4>Boss</h4>
                </div>
            </div>
            <div class="row">
                <div class="span8">
                    <p>
                        With development in alpha I joined the Boss team to implement the boss. For the boss I implemented the decision making, the basic attack the movement using the before mentioned structure and the charge attack.
                    </p>
                    <p>
                        For the decision making we had two phases, in the second phase the charge attack is added to the pool of possible attacks and if the player gets far enough the boss charges at him.
                    </p>
                    <p>
                        The charge attack was the more complex task in the boss’ development, in my opinion. To make it I had to implement a way to push the player back and move it as well as the charge itself crossing the map and checking if the player is hit and pushing it in the logical direction.
                    </p>
                </div>
                <div class="span4">
                    <img class="thumbnail" style="max-height: 300px;max-width: 300px; margin: 0 auto;" src="img/member-images/MartíMajó_Charge.gif" alt="" />
                </div>
            </div>
                <!-- @@@@@@@@@@ END ESTRUCTURA 6 @@@@@@@@@@ -->

                <!-- @@@@@@@@@@ ESTRUCTURA 7: Lista @@@@@@@@@@ -->
            <div class="row">
                <div class="span12">
                    <h4>Automatic Builds</h4>
                </div>
            </div>
            <div class="row">
                <div class="span12">
                    <p>
                        Finally I also worked together with an engine programmer (Elliot Jimenez) to be able to generate builds automatically. He programmed a whole batch mode and I took care of making use of it through an YML file with Appveyor.
                    </p>
                </div>
            </div>
                <!-- @@@@@@@@@@ END ESTRUCTURA 7 @@@@@@@@@@ -->

                <!-- ##### END TODO4 ##### -->

                <!-- ###################################################################### -->
                <!-- TODO5: Una vez terminado y esta como queremos que se vea, renombrais   -->
                <!--       este archivo con el siguiente nombre:                            -->
                <!--       "member_NombreApellido.html". Ejemplo: member_DanielTriviño.html -->
                <!--                                                                        -->
                <!--       Despues subis los archivos el la carpeta "WEB" del drive de la   -->
                <!--       siguiente manera:                                                -->
                <!--           - Este arvhivo .html en la carpeta "MemberPage".             -->
                <!--           - La imagen de tu cara en la carpeta "Avatar".               -->
                <!--           - Todas las imagenes utilizadas en el TODO4 en la carpeta    -->
                <!--             "MemberImages" (Intentad poner nombres a las imagenes que  -->
                <!--             no se vayan a repetir).                                     -->
                <!--                                                                        -->
                <!--       Teneis como maximo hasta el sabado 2 a las 23:59 para subir todos-->
                <!--       los archivos. Despues tendre que arreglar todas las paginas y    -->
                <!--       subirlas.                                                        -->
                <!--                                                                        -->
                <!--       Si teneis cualquier duda me podeis preguntar.                    -->
                <!--                                                                        -->
                <!-- ###################################################################### -->
                <!-- ##### END TODO5 ##### -->

<!-- ################################################################################################################ -->
<!-- ########################################        HASTA AQUI        ############################################## -->
<!-- ################################################################################################################ -->

            <div class="blankline30"></div>

            </div>
        </section>


    <footer>
        <div class="container">
            <div class="row">
                <div class="span4">
                    <div class="widget">
                        <h5 class="widgetheading">Social media</h5>
                        <a href="https://www.facebook.com/NjoyGames-2060362217554288/" class="btn btn-social-icon btn-facebook" target="_blank"><i class="fa fa-facebook"></i></a>
                        <a href="https://www.instagram.com/njoygames/" class="btn btn-social-icon btn-instagram" target="_blank"><i class="fa fa-instagram"></i></a>
                        <a href="https://twitter.com/njoy_games" class="btn btn-social-icon btn-twitter" target="_blank"><i class="fa fa-twitter"></i></a>
                    </div>
                </div>
                <div class="span4">
                    <div class="widget">
                        <h5 class="widgetheading">Get in touch</h5>
                        <address>
                            <strong>Njoy Games</strong><br>
                            C/ de la Igualtat 33<br>
                            08222 Terrassa, Barcelona
                        </address>
                        <p>
                            <i class="fa fa-envelope-o"></i> <a href="mailto:njoygames0@gmail.com" target="_top">njoygames0@gmail.com</a>
                        </p>
                    </div>
                </div>
                <div class="span4">
                    <div class="widget">
                        <h5 class="widgetheading">Repository</h5>
                        <p>
                            Keep updated for new releases or see the code.
                        </p>
                        <a href="https://github.com/Project3CITM/CulverinEngine-Project3" class="btn btn-social-icon btn-github" target="_blank"><i class="fa fa-github"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div id="sub-footer">
            <div class="container">
                <div class="row">
                    <div class="span6">
                        <div class="copyright">
                            <p><span>&copy; Njoy Games. All right reserved</span></p>
                        </div>
                    </div>
                    <div class="span6">
                        <div class="credits">
                            Designed by <a href="https://www.linkedin.com/in/danieltriviñomerida/" target="_blank">dibu13</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</div>

<a href="#" class="scrollup"><i class="icon-square icon-bglight icon-2x active fa fa-angle-up fa-2x"></i></a>

<!-- javascript
  ================================================== -->
<script src="js/jquery.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/bootstrap.js"></script>

<script src="js/modernizr.custom.js"></script>
<script src="js/toucheffects.js"></script>
<script src="js/google-code-prettify/prettify.js"></script>
<script src="js/jquery.bxslider.min.js"></script>

<script src="js/jquery.prettyPhoto.js"></script>
<script src="js/portfolio/jquery.quicksand.js"></script>
<script src="js/portfolio/setting.js"></script>

<script src="js/jquery.flexslider.js"></script>
<script src="js/animate.js"></script>
<script src="js/inview.js"></script>

<script src="js/custom.js"></script>


</body>

</html>
